#!/usr/bin/env ruby
# frozen_string_literal: true

require 'webrick/httpproxy'

PORT = Integer ARGV[0]

proxy = WEBrick::HTTPProxyServer.new Port: PORT

trap :SIGINT do
  proxy.shutdown
end

trap :SIGTERM do
  proxy.shutdown
end

proxy.start
